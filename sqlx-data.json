{
  "db": "SQLite",
  "10d02f8d682afc31b70b1f83bb866069ea69c71485a041d3d720d3c2d7afdce7": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 0
      }
    },
    "query": "CREATE TABLE IF NOT EXISTS accounts (\r\n    id INTEGER\r\n        PRIMARY KEY\r\n        NOT NULL,\r\n    name TEXT\r\n        UNIQUE\r\n        NOT NULL\r\n        CHECK (name != ''),\r\n    currency INTEGER\r\n        NOT NULL\r\n        REFERENCES currencies(id)\r\n        ON DELETE RESTRICT,\r\n    balance TEXT\r\n        NOT NULL\r\n        DEFAULT '0'\r\n        CHECK (balance != ''),\r\n    posted_balance TEXT\r\n        NOT NULL\r\n        DEFAULT '0'\r\n        CHECK (posted_balance != ''),\r\n    account_type INTEGER\r\n        NOT NULL\r\n        REFERENCES account_types(id)\r\n        ON DELETE RESTRICT\r\n        CHECK (account_type != '')\r\n)\r\nSTRICT;\r\n\r\nCREATE UNIQUE INDEX IF NOT EXISTS account_name ON accounts (name)\r\n"
  },
  "1910b8593899552e7e1db8fb4de5113d57e924c3898f37b6d3d0c6092921f024": {
    "describe": {
      "columns": [
        {
          "name": "id!",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "balance!",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "posted_balance!",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        true,
        true,
        true
      ],
      "parameters": {
        "Right": 3
      }
    },
    "query": "INSERT OR IGNORE INTO accounts (name, currency, account_type)\n        VALUES (?, ?, ?)\n        RETURNING\n            id as \"id!\",\n            balance as \"balance!\",\n            posted_balance as \"posted_balance!\"\n        "
  },
  "1f602530118dd7c4dee6207f376fc7b05ebc507439c0c238ed1e7020ab3e0aec": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 0
      }
    },
    "query": "CREATE TABLE IF NOT EXISTS methods (\r\n    id INTEGER\r\n        PRIMARY KEY\r\n        NOT NULL,\r\n    name TEXT\r\n        UNIQUE\r\n        NOT NULL\r\n        CHECK (name != '')\r\n)\r\nSTRICT;\r\n\r\nCREATE UNIQUE INDEX IF NOT EXISTS method_name ON methods (name)\r\n"
  },
  "2d7201bf92994f5d080f706b2670c7b9b4415157e6cf5378cdb1a412dcadf4c1": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 0
      }
    },
    "query": "CREATE VIEW IF NOT EXISTS accounts_with_currency_and_type AS\r\nSELECT\r\n    accounts.id AS id,\r\n    accounts.name AS name,\r\n    accounts.currency AS currency,\r\n    accounts.balance AS balance,\r\n    accounts.posted_balance AS posted_balance,\r\n    accounts.account_type AS account_type,\r\n    currencies.symbol AS symbol,\r\n    currencies.name AS currency_name,\r\n    currencies.precision AS precision,\r\n    currencies.thousand_separator AS thousand_separator,\r\n    currencies.decimal_separator AS decimal_separator,\r\n    account_types.name as account_type_name\r\nFROM accounts\r\nINNER JOIN account_types\r\n    ON accounts.account_type = account_types.id\r\nINNER JOIN currencies\r\n    ON accounts.currency = currencies.id"
  },
  "387eba70c2039a9b09a0c38986590637811873dceedbebd7be8bff6a11d555f5": {
    "describe": {
      "columns": [
        {
          "name": "id!",
          "ordinal": 0,
          "type_info": "Int64"
        }
      ],
      "nullable": [
        true
      ],
      "parameters": {
        "Right": 5
      }
    },
    "query": "INSERT OR IGNORE INTO currencies (symbol, name, precision, thousand_separator, decimal_separator)\n        VALUES (?, ?, ?, ?, ?)\n        RETURNING\n            id as \"id!\"\n        "
  },
  "3a5f83024c5c9b77b4a5a8c77250bcf4d9266550917d73266ba1c2bc0d7664e6": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "symbol",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "precision",
          "ordinal": 3,
          "type_info": "Int64"
        },
        {
          "name": "thousand_separator",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "decimal_separator",
          "ordinal": 5,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "SELECT * FROM currencies WHERE name = ?"
  },
  "4e76dfc01ee707c16d797b7bf14d7f304c85d3a044f71ab782e9cd0712e1d533": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "currency",
          "ordinal": 2,
          "type_info": "Int64"
        },
        {
          "name": "balance",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "posted_balance",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "account_type",
          "ordinal": 5,
          "type_info": "Int64"
        },
        {
          "name": "symbol",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "currency_name",
          "ordinal": 7,
          "type_info": "Text"
        },
        {
          "name": "precision",
          "ordinal": 8,
          "type_info": "Int64"
        },
        {
          "name": "thousand_separator",
          "ordinal": 9,
          "type_info": "Text"
        },
        {
          "name": "decimal_separator",
          "ordinal": 10,
          "type_info": "Text"
        },
        {
          "name": "account_type_name",
          "ordinal": 11,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "SELECT * FROM accounts_with_currency_and_type WHERE name = ?"
  },
  "6a2be8c76f189563b604baa6a58a593ff44ce1aa5975cdc51aafd404143a8a5f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 0
      }
    },
    "query": "CREATE TABLE IF NOT EXISTS categories (\r\n    id INTEGER\r\n        PRIMARY KEY\r\n        NOT NULL,\r\n    name TEXT\r\n        UNIQUE\r\n        NOT NULL\r\n        CHECK (name != '')\r\n)\r\nSTRICT;\r\n\r\nCREATE UNIQUE INDEX IF NOT EXISTS category_name ON categories (name)\r\n"
  },
  "be4cd081f071eab53c258e75f7dedc53936dee6b5c3d03c21befcb84f090320e": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "SELECT * FROM account_types WHERE name = ?"
  },
  "cda9d6e1cec9f586432e3626128ea06870060c889939c2a6c6fe928237eb10f3": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 0
      }
    },
    "query": "CREATE TABLE IF NOT EXISTS transactions (\r\n    id INTEGER\r\n        PRIMARY KEY\r\n        NOT NULL,\r\n    date TEXT\r\n        NOT NULL\r\n        DEFAULT CURRENT_DATE\r\n        CHECK (date != ''),\r\n    posted_date TEXT\r\n        CHECK (posted_date != '')\r\n        CHECK (posted_date IS NULL\r\n            OR strftime('%s', posted_date) >= strftime('%s', date)\r\n        ),\r\n    category INTEGER\r\n        REFERENCES categories(id)\r\n        ON DELETE SET NULL,\r\n    amount TEXT\r\n        NOT NULL\r\n        CHECK (amount != ''),\r\n    debit_account INTEGER\r\n        REFERENCES accounts(id)\r\n        ON DELETE SET NULL,\r\n    credit_account INTEGER\r\n        REFERENCES accounts(id)\r\n        ON DELETE SET NULL,\r\n    authority TEXT\r\n        NOT NULL,\r\n    description TEXT\r\n        NOT NULL,\r\n    method INTEGER\r\n        REFERENCES methods(id)\r\n        ON DELETE SET NULL,\r\n    check_number INTEGER\r\n        CHECK (check_number IS NULL\r\n            OR (debit_account NOT NULL)\r\n        ),\r\n    UNIQUE (check_number, debit_account)\r\n)\r\nSTRICT;\r\n\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_date ON transactions (date);\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_posted_date ON transactions (posted_date);\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_category ON transactions (category);\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_amount ON transactions (amount);\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_debit_account ON transactions (debit_account);\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_credit_account ON transactions (credit_account);\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_authority ON transactions (authority);\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_description ON transactions (description);\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_method ON transactions (method);\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_check_number ON transactions (check_number);\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_debit_account_change_magnitude ON transactions (debit_account, abs(amount));\r\nCREATE UNIQUE INDEX IF NOT EXISTS transaction_category_change_magnitude ON transactions (category, abs(amount))"
  },
  "cf1ee01e10a79d840d48cb33eb6303493a8ba44b4898e8081075e3ecba66221b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 0
      }
    },
    "query": "CREATE TABLE IF NOT EXISTS account_types (\r\n    id INTEGER\r\n        PRIMARY KEY\r\n        NOT NULL,\r\n    name TEXT\r\n        UNIQUE\r\n        NOT NULL\r\n        CHECK (name != '')\r\n)\r\nSTRICT;\r\n\r\nCREATE UNIQUE INDEX IF NOT EXISTS account_type_name ON account_types (name)"
  },
  "cf3dafd3e0b6cb8f9d2f51bcf914481f8a3d2f685871a89530800dbfc96b4dca": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "currency",
          "ordinal": 2,
          "type_info": "Int64"
        },
        {
          "name": "balance",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "posted_balance",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "account_type",
          "ordinal": 5,
          "type_info": "Int64"
        },
        {
          "name": "symbol",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "currency_name",
          "ordinal": 7,
          "type_info": "Text"
        },
        {
          "name": "precision",
          "ordinal": 8,
          "type_info": "Int64"
        },
        {
          "name": "thousand_separator",
          "ordinal": 9,
          "type_info": "Text"
        },
        {
          "name": "decimal_separator",
          "ordinal": 10,
          "type_info": "Text"
        },
        {
          "name": "account_type_name",
          "ordinal": 11,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 0
      }
    },
    "query": "SELECT * FROM accounts_with_currency_and_type"
  },
  "e65d4e2ed5df3e16c6ef8d89524dc370daf45ef92ce694095246e82ba9f80876": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 0
      }
    },
    "query": "CREATE TABLE IF NOT EXISTS currencies (\r\n    id INTEGER\r\n        PRIMARY KEY\r\n        NOT NULL,\r\n    symbol TEXT\r\n        NOT NULL,\r\n    name TEXT\r\n        UNIQUE\r\n        NOT NULL\r\n        CHECK (name != ''),\r\n    precision INTEGER\r\n        NOT NULL\r\n        DEFAULT 2,\r\n    thousand_separator TEXT\r\n        NOT NULL\r\n        DEFAULT ',',\r\n    decimal_separator TEXT\r\n        NOT NULL\r\n        DEFAULT '.'\r\n)\r\nSTRICT;\r\n\r\nCREATE UNIQUE INDEX IF NOT EXISTS currency_name ON currencies (name)\r\n"
  },
  "f2bd7da93d3e947e57782a3d10fdd33a8a2a53f9ee7f834779689da750f32520": {
    "describe": {
      "columns": [
        {
          "name": "id!",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "name!",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        true,
        true
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "INSERT OR IGNORE INTO account_types (name)\n        VALUES (?)\n        RETURNING\n            id AS \"id!\",\n            name AS \"name!\"\n        "
  }
}